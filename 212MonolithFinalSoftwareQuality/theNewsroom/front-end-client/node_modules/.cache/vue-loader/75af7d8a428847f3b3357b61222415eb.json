{"remainingRequest":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/src/views/Trends.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/src/views/Trends.vue","mtime":1605662878343},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js","mtime":1605594839873},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/babel-loader/lib/index.js","mtime":1605594839681},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/cache-loader/dist/cjs.js","mtime":1605594839873},{"path":"/Users/liamdale/OneDrive/Uni/COMP/20T3/capstone-project-comp3900-w17a-212-monolith/212MonolithFinalSoftwareQuality/theNewsroom/front-end-client/node_modules/vue-loader/lib/index.js","mtime":1605594849148}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQb3B1cCBmcm9tICIuLi9jb21wb25lbnRzL2NvbW1vbi9Qb3B1cCI7CmltcG9ydCBSZXBsYWNlIGZyb20gIi4uL2NvbXBvbmVudHMvY29tbW9uL1JlcGxhY2UiOwppbXBvcnQgU2F2ZVRyZW5kIGZyb20gIi4uL2NvbXBvbmVudHMvY29tbW9uL1NhdmVUcmVuZCI7CmltcG9ydCBIZWxwVHJlbmRzIGZyb20gIi4uL2NvbXBvbmVudHMvY29tbW9uL0hlbHBUcmVuZHMiOwppbXBvcnQgU2VhcmNoIGZyb20gIi4uL2NvbXBvbmVudHMvY29tbW9uL1NlYXJjaCIKaW1wb3J0IHsKICAgIG1hcEdldHRlcnMsCiAgICBtYXBTdGF0ZSwKICAgIG1hcE11dGF0aW9ucwp9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgQUxMX1RPUElDU19XSVRIX0ZJTFRFUiBmcm9tICcuLi9ncmFwaHFsL1RvcGljc0FuZEFydGljbGVDb3VudC5ncWwnCmltcG9ydCBUT1BJQ19BUlRJQ0xFU19EQVRFIGZyb20gJy4uL2dyYXBocWwvVG9waWNBcnRpY2xlc0J5RGF0ZS5ncWwnCmltcG9ydCBVU0VSX0NPTkZJR1MgZnJvbSAiLi4vZ3JhcGhxbC9BbGxPZkFVc2Vyc0NvbmZpZ3VyYXRpb25zLmdxbCIKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlRyZW5kcyIsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgUG9wdXAsCiAgICAgICAgU2F2ZVRyZW5kLAogICAgICAgIEhlbHBUcmVuZHMsCiAgICAgICAgU2VhcmNoLAogICAgICAgIFJlcGxhY2UKICAgIH0sCiAgICBkYXRhOiAoKSA9PiAoewogICAgICAgIHNlYXJjaDogZmFsc2UsCiAgICAgICAgcG9wdXA6IGZhbHNlLAogICAgICAgIHN0YXJ0X2RhdGU6IG51bGwsCiAgICAgICAgZW5kX2RhdGU6IG51bGwsCiAgICAgICAgZGF0ZXM6IFtdLAogICAgICAgIGtleXdvcmQ6ICcnLAogICAgICAgIG1lbnU6IGZhbHNlLAogICAgICAgIHJlbGF0ZWRfdG9waWNzOiBbXSwKICAgICAgICBjb25maWdzOiBbXSwKICAgICAgICByZXN1bHQ6IG51bGwsCiAgICAgICAgdHJlbmRzOiBbXSwKICAgICAgICBkYXRlOiBudWxsLAogICAgICAgIHRvcGljX2lkOiBudWxsLAogICAgICAgIHVzcl9pZDogJycsCiAgICAgICAgc2tpcFF1ZXJ5OiB0cnVlLAogICAgICAgIHJlcGxhY2U6IGZhbHNlLAogICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgc3Ryb2tlOiB7CiAgICAgICAgICAgICAgICBjdXJ2ZTogJ3Ntb290aCcsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbG9yczogWwogICAgICAgICAgICAgICAgJyNGRjQyREMnLCAnIzAwOTZEQicsICcjRkY5RDAwJywgJyM2NkRCMDAnLCAnI0RCMDAwNCcsIAogICAgICAgICAgICBdLAogICAgICAgICAgICB4YXhpczogewogICAgICAgICAgICAgICAgdHlwZTogJ2RhdGV0aW1lJwogICAgICAgICAgICB9LAogICAgICAgICAgICB5YXhpczogewogICAgICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTnVtYmVyIG9mIEFydGljbGVzJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG1pbjogMCwKICAgICAgICAgICAgICAgIGZvcmNlTmljZVNjYWxlOiB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAvLyBmb2xsb3dDdXJzb3I6IHRydWUsCiAgICAgICAgICAgICAgICBzaGFyZWQ6IHRydWUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1hcmtlcnM6IHsKICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICBob3ZlcjogewogICAgICAgICAgICAgICAgICAgIHNpemVPZmZzZXQ6IDYKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ3JpZDogewogICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjZjFmMWYxJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLAogICAgICAgICAgICAgICAgb25JdGVtSG92ZXI6IHsKICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHREYXRhU2VyaWVzOiB0cnVlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBub0RhdGE6IHsKICAgICAgICAgICAgICAgIHRleHQ6ICdTZWxlY3QgdG9waWNzIHRvIHNlZSBob3cgdGhleSB0cmVuZCBvdmVyIHRpbWUhJywKICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLAogICAgICAgICAgICAgICAgb2Zmc2V0WDogMCwKICAgICAgICAgICAgICAgIG9mZnNldFk6IDAsCiAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JywKICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiB1bmRlZmluZWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2hhcnQ6IHsKICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogewogICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0b29sYmFyOiB7CiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBvZmZzZXRYOiAwLAogICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IDAsCiAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB6b29taW46IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21vdXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUljb25zOiBbXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZXhwb3J0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNzdjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbkRlbGltaXRlcjogJywnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyQ2F0ZWdvcnk6ICdjYXRlZ29yeScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJWYWx1ZTogJ3ZhbHVlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXR0ZXIodGltZXN0YW1wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCkudG9EYXRlU3RyaW5nKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYXV0b1NlbGVjdGVkOiAnem9vbScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgIH0pLAogICAgd2F0Y2g6IHsKICAgICAgICBnZXRTZWxlY3RlZDogewogICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyZW5kcygpCiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRTZWxlY3RlZC5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMudHJlbmRzID0gW10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgfSwKICAgIGFwb2xsbzogewogICAgICAgIHJlbGF0ZWRfdG9waWNzOiB7CiAgICAgICAgICAgIHF1ZXJ5OiBBTExfVE9QSUNTX1dJVEhfRklMVEVSLAogICAgICAgICAgICB2YXJpYWJsZXMoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIGxpbWl0OiA1CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVwZGF0ZShkYXRhKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5hbGxUb3BpY3Mubm9kZXMubWFwKGEgPT4gKHsKICAgICAgICAgICAgICAgICAgICBpZDogYS5pZCwKICAgICAgICAgICAgICAgICAgICBuYW1lOiBhLm5hbWUKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICAgIHF1ZXJ5OiBUT1BJQ19BUlRJQ0xFU19EQVRFLAogICAgICAgICAgICB2YXJpYWJsZXMoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHRvcGljSWQ6IHRoaXMudG9waWNfaWQsCiAgICAgICAgICAgICAgICAgICAgc3RhcnRkYXRlOiB0aGlzLnN0YXJ0X2RhdGUsCiAgICAgICAgICAgICAgICAgICAgZW5kZGF0ZTogdGhpcy5lbmRfZGF0ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB1cGRhdGUoZGF0YSkgewogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLnRvcGljQnlJZC5uYW1lLCAKICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLmFnZ3JlZ2F0ZWFydGljbGVjb3VudGJ5ZGF5cy5ub2Rlcy5tYXAoYSA9PiAoewogICAgICAgICAgICAgICAgICAgICAgICB4OiBhLngsCiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGEueQogICAgICAgICAgICAgICAgICAgIH0pKX0KICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMudHJlbmRzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ubmFtZSA9PSByZXN1bHQubmFtZSkKICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAtMSApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZW5kcy5wdXNoKHJlc3VsdCkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmVuZHNbaW5kZXhdID0gcmVzdWx0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUmVtb3ZlKCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2tpcCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNraXBRdWVyeQogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgY29uZmlnczogewogICAgICAgICAgICBxdWVyeTogVVNFUl9DT05GSUdTLAogICAgICAgICAgICB2YXJpYWJsZXMoKSB7CiAgICAgICAgICAgICAgICB2YXIgaWQKICAgICAgICAgICAgICAgIGlmICghdGhpcy4kYXV0aC5sb2FkaW5nICYmIHRoaXMuJGF1dGguaXNBdXRoZW50aWNhdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgaWQgPSB0aGlzLiRhdXRoLnVzZXIuc3ViCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlkID0gJycKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgdXNySWQ6IGlkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVwZGF0ZShkYXRhKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQoKICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmFsbFVzZXJjb25maWd1cmF0aW9ucy5ub2Rlcy5tYXAoYSA9PiAoewogICAgICAgICAgICAgICAgICAgIGlkOiBhLmlkLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBhLmNvbmZpZ05hbWUsCiAgICAgICAgICAgICAgICAgICAgdG9waWNzOiBhLnRvcGljY29uZmlndXJhdGlvbnNCeVVzckNvbmZpZ0lkLm5vZGVzLm1hcChiID0+ICh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBiLnRvcGljSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGIudG9waWNOYW1lCiAgICAgICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgICB9KSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2tpcCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNraXBRdWVyeQogICAgICAgICAgICB9LAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgY2hlY2tSZW1vdmUoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmdldFNlbGVjdGVkLmxlbmd0aCAhPSB0aGlzLnRyZW5kcy5sZW5ndGgpewogICAgICAgICAgICAgICAgdmFyIGkKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRyZW5kcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0U2VsZWN0ZWQuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5uYW1lID09IHRoaXMudHJlbmRzW2ldLm5hbWUpCiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJlbmRzLnNwbGljZShpbmRleCwgMSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIGNhbGxUcmVuZHMoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJGZXRjaGluZyB0cmVuZCBkYXRhIGZvciIsIHRoaXMuZGF0ZVJhbmdlKQogICAgICAgICAgICB2YXIgaQogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5nZXRTZWxlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdGhpcy50b3BpY19pZCA9ICB0aGlzLmdldFNlbGVjdGVkW2ldLmlkCiAgICAgICAgICAgICAgICB0aGlzLiRhcG9sbG8ucXVlcmllcy5yZXN1bHQuc2tpcCA9IGZhbHNlCiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRhcG9sbG8ucXVlcmllcy5yZXN1bHQucmVmZXRjaCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gVGhpcyBsaW5lIGlzIG5vdCByZWR1bmRhbnQuIEl0IHJlZnJlc2hlcyB0aGUgdmFsdWUsIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIGF1dG9tYXRpY2FsbHkgdXBkYXRpbmcgdGhlIGdyYXBoIHdoZW4gZGF0ZXMgYXJlIGNoYW5nZWQuCiAgICAgICAgICAgIHRoaXMudHJlbmRzID0gdGhpcy50cmVuZHMubWFwKGEgPT4gYSkKICAgICAgICAgICAgY29uc29sZS5sb2coJ1RyZW5kIGRhdGEgZmV0Y2hlZC4nKQogICAgICAgIH0sCiAgICAgICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgICAgICAgIGxldCBtb250aCA9IGAke2RhdGUuZ2V0TW9udGgoKSArIDF9YDsKICAgICAgICAgICAgbGV0IGRheSA9IGAke2RhdGUuZ2V0RGF0ZSgpfWA7CiAgICAgICAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgICAgICAgIGlmIChtb250aC5sZW5ndGggPCAyKSBtb250aCA9IGAwJHttb250aH1gOwogICAgICAgICAgICBpZiAoZGF5Lmxlbmd0aCA8IDIpIGRheSA9IGAwJHtkYXl9YDsKICAgICAgICAgICAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5XS5qb2luKCctJyk7CiAgICAgICAgfSwKICAgICAgICAuLi5tYXBNdXRhdGlvbnMoWwogICAgICAgICAgICAnYWRkU2VsZWN0ZWQnLAogICAgICAgICAgICAncmVtb3ZlU2VsZWN0ZWQnLAogICAgICAgICAgICAnb3BlblRvcGljJywKICAgICAgICAgICAgJ3NldFNlbGVjdGVkJywKICAgICAgICAgICAgJ2VtcHR5U2VsZWN0ZWQnLAogICAgICAgICAgICAnc2VhcmNoVG9waWNLZXl3b3JkJwogICAgICAgIF0pLAogICAgICAgIG9wZW4odG9waWMpIHsKICAgICAgICAgICAgdGhpcy5wb3B1cCA9IHRydWUKICAgICAgICAgICAgdGhpcy5vcGVuVG9waWModG9waWMpCiAgICAgICAgfSwKICAgICAgIHNhdmVEYXRlcygpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5tZW51LnNhdmUodGhpcy5kYXRlcykKICAgICAgICAgICAgaWYgKHRoaXMuZGF0ZXNbMF0gPCB0aGlzLmRhdGVzWzFdKSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUgPSB0aGlzLmRhdGVzWzBdCiAgICAgICAgICAgICAgICB0aGlzLmVuZF9kYXRlID0gdGhpcy5kYXRlc1sxXQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5zdGFydF9kYXRlID0gdGhpcy5kYXRlc1sxXQogICAgICAgICAgICAgICAgdGhpcy5lbmRfZGF0ZSA9IHRoaXMuZGF0ZXNbMF0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRhdGVzID0gW3RoaXMuc3RhcnRfZGF0ZSwgdGhpcy5lbmRfZGF0ZV0KICAgICAgICAgICAgdGhpcy5jYWxsVHJlbmRzKCkKICAgICAgICB9LAogICAgICAgIHNlYXJjaFRvcGljKCkgewogICAgICAgICAgICBpZiAodGhpcy5rZXl3b3JkICE9ICcnKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaCA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoVG9waWNLZXl3b3JkKHRoaXMua2V5d29yZCkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVzZXQoKSB7CiAgICAgICAgICAgIHRoaXMuZGF0ZXMgPSBbXQogICAgICAgICAgICB0aGlzLmVuZF9kYXRlID0gbmV3IERhdGUoKQogICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgIHRoaXMuc3RhcnRfZGF0ZS5zZXRNb250aCh0aGlzLmVuZF9kYXRlLmdldE1vbnRoKCkgLSAxKQogICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUgPSB0aGlzLnN0YXJ0X2RhdGUudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICB0aGlzLmVuZF9kYXRlID0gdGhpcy5lbmRfZGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKQogICAgICAgICAgICB0aGlzLmRhdGVzID0gW3RoaXMuc3RhcnRfZGF0ZSwgdGhpcy5lbmRfZGF0ZV0KICAgICAgICAgICAgdGhpcy5lbXB0eVNlbGVjdGVkKCkKICAgICAgICB9LAogICAgICAgIGFkZCh0b3BpYykgewogICAgICAgICAgICBpZiAodGhpcy5udW1TZWxlY3RlZCA9PSA1KSB7CiAgICAgICAgICAgICAgICB0aGlzLnJlcGxhY2UgPSB0cnVlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmFkZFNlbGVjdGVkKHRvcGljKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhc3luYyBnZXRDb25maWdzKCkgewogICAgICAgICAgICB0aGlzLiRhcG9sbG8ucXVlcmllcy5jb25maWdzLnNraXAgPSBmYWxzZQogICAgICAgICAgICBhd2FpdCB0aGlzLiRhcG9sbG8ucXVlcmllcy5jb25maWdzLnJlZmV0Y2goKQogICAgICAgICAgICBjb25zb2xlLmxvZygiQ29uZmlndXJhdGlvbnMgZmV0Y2hlZC4iKQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgc2VsZWN0U2F2ZWQoaWQpIHsKICAgICAgICAgICAgLy8gRW5zdXJlIGNvbmZpZyBpcyB1cGRhdGVkCiAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0Q29uZmlncygpCiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuY29uZmlncy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09IGlkKQogICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkKHRoaXMuY29uZmlnc1tpbmRleF0udG9waWNzKQogICAgICAgICAgICB0aGlzLnRyZW5kcyA9IFtdCiAgICAgICAgICAgIHRoaXMuJGFwb2xsby5xdWVyaWVzLnJlc3VsdC5za2lwID0gZmFsc2UKICAgICAgICAgICAgYXdhaXQgdGhpcy4kYXBvbGxvLnF1ZXJpZXMucmVzdWx0LnJlZmV0Y2goKQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy5zdGFydF9kYXRlID09IG51bGwpIHsKICAgICAgICAgICAgdGhpcy5lbmRfZGF0ZSA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgdGhpcy5zdGFydF9kYXRlID0gbmV3IERhdGUoKQogICAgICAgICAgICB0aGlzLnN0YXJ0X2RhdGUuc2V0TW9udGgodGhpcy5lbmRfZGF0ZS5nZXRNb250aCgpIC0gMSkKICAgICAgICAgICAgdGhpcy5zdGFydF9kYXRlID0gdGhpcy5zdGFydF9kYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5lbmRfZGF0ZSA9IHRoaXMuZW5kX2RhdGUudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCkKICAgICAgICB9CiAgICAgICAgdGhpcy5kYXRlcyA9IFt0aGlzLnN0YXJ0X2RhdGUsIHRoaXMuZW5kX2RhdGVdCiAgICAgICAgaWYgKCF0aGlzLiRhdXRoLmxvYWRpbmcgJiYgdGhpcy4kYXV0aC5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICAgICAgdGhpcy51c3JfaWQgPSB0aGlzLiRhdXRoLnVzZXIuc3ViCiAgICAgICAgfQogICAgICAgIHRoaXMuY2FsbFRyZW5kcygpCiAgICAgICAgdGhpcy5nZXRDb25maWdzKCkKICAgICAgICBjb25zb2xlLmxvZygiTW91bnRlZCIpCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBTdGF0ZShbJ3NlbGVjdGVkJywgJ3JlbGF0ZWQnXSksCiAgICAgICAgLi4ubWFwR2V0dGVycyhbJ251bVNlbGVjdGVkJywgJ2dldFNlbGVjdGVkJywgJ2dldFJlbGF0ZWQnXSksCiAgICAgICAgdG9kYXlzRGF0ZSgpIHsKICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRvZGF5KTsKICAgICAgICB9LAogICAgICAgIGRhdGVSYW5nZSgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0ZXMuam9pbignIHRvICcpCiAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["Trends.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Trends.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div class=\"trends\">\n    <template>\n        <v-container fluid>\n\n            <v-layout wrap>\n                <v-flex xs12 md4>\n                    <!-- For now this filters the datatable, really we want it to produce a popup with possible matches on 'enter', and selecting a match will produce the corresponding topic popup. This field ought to be in the same position of the page on both Topics and Trends, to show continuity -->\n                    <v-card flat tile width='100%'>\n                        <v-list ripple=false expand flat rounded dense>\n\n                            <!-- Search, calendar and media are subgroups in a the group Filters, allowing us to easily modify this entire list as a single element -->\n                            <v-list-group value=\"true\" color=\"none\">\n\n                                <template v-slot:activator>\n                                    <v-list-item-content>\n                                        <v-list-item-title class='font-weight-light list-title'>Filters</v-list-item-title>\n                                    </v-list-item-content>\n                                </template>\n                                <!-- Search -->\n                                <v-list-item>\n                                    <v-text-field @keyup.enter.native=\"searchTopic\" dense rounded filled v-model=\"keyword\" append-icon=\"mdi-magnify\" label=\"Search for a topic\" single-line hide-details />\n                                    <Search v-model=\"search\" />\n                                </v-list-item>\n                                <!-- Calendar -->\n                                 <v-list-item>\n                                    <v-menu ref=\"menu\" v-model=\"menu\" :close-on-content-click=\"false\" :return-value.sync=\"dates\" transition=\"scale-transition\" offset-y min-width=\"290px\">\n                                        <template v-slot:activator=\"{ on, attrs }\">\n                                            <v-text-field dense rounded filled v-model=\"dateRange\" label=\"Select time period\" append-icon=\"mdi-calendar\" single-line hide-details readonly v-bind=\"attrs\" v-on=\"on\" />\n                                        </template>\n                                        <v-date-picker v-model=\"dates\" :max='todaysDate' range no-title scrollable>\n                                            <v-spacer />\n                                            <v-btn text color=\"primary\" @click=\"saveDates\">\n                                                OK\n                                            </v-btn>\n                                        </v-date-picker>\n                                    </v-menu>\n                                </v-list-item>\n                            </v-list-group>\n                            <!-- Selected, Related and Saved topics are also presented as groups in the List, allowing us to open and close them easily to show their internal components. Selected is set to true so that it is shown automatically, whilst the others are closed by default -->\n                            <v-list-group value=\"true\" color=\"none\">\n                                <template v-slot:activator>\n                                    <v-list-item-content>\n                                        <v-list-item-title class='font-weight-light list-title'>Selected Topics</v-list-item-title>\n                                    </v-list-item-content>\n                                </template>\n                                <v-list-item-group value=\"true\" color=\"none\">\n                                    <v-list-item class='item' v-for=\"(item, index) in getSelected\" :key=\"index\" >\n                                        <v-list-item-title @click='open(item)' v-text=\"item.name\" />\n                                        <v-icon v-if='index == 0' color=\"#FF42DC\">mdi-circle</v-icon>\n                                        <v-icon v-if='index == 1' color=\"#0096DB\">mdi-circle</v-icon>\n                                        <v-icon v-if='index == 2' color=\"#FF9D00\">mdi-circle</v-icon>\n                                        <v-icon v-if='index == 3' color='#66DB00'>mdi-circle</v-icon>\n                                        <v-icon v-if='index == 4' color=\"#DB0004\">mdi-circle</v-icon>\n                                        <v-btn icon @click='removeSelected(item)'>\n                                            <v-icon color=\"grey lighten-1\">mdi-minus-circle</v-icon>\n                                        </v-btn>\n                                    </v-list-item>\n                                </v-list-item-group>\n                            </v-list-group>\n                            <v-list-group color=\"none\">\n                                <template v-slot:activator>\n                                    <v-list-item-content>\n                                        <v-list-item-title class='font-weight-light list-title'>Related Topics</v-list-item-title>\n                                    </v-list-item-content>\n                                </template>\n                                <v-list-item-group color=\"none\">\n                                    <v-list-item  class='item' v-for=\"item in related_topics\" :key=\"item.id\">\n                                        <v-list-item-title @click='open(item)' v-text=\"item.name\" />\n                                        <v-btn icon @click='add(item)'>\n                                            <v-icon color=\"grey lighten-1\">mdi-plus-circle</v-icon>\n                                        </v-btn>\n                                    </v-list-item>\n                                </v-list-item-group>\n                            </v-list-group>\n                            <template v-if=\"!$auth.loading & $auth.isAuthenticated\">\n                                <v-list-group color=\"none\">\n                                    <template v-slot:activator>\n                                        <v-list-item-content>\n                                            <v-list-item-title class='font-weight-light list-title'>Saved Trends</v-list-item-title>\n                                        </v-list-item-content>\n                                    </template>\n                                    <v-list-item-group color=\"none\">\n                                        <v-list-item class='item' v-for=\"config in configs\" :key=\"config.id\" @click=\"selectSaved(config.id)\">\n                                            <v-list-item-title v-text=\" config.title\" />\n                                        </v-list-item>\n                                    </v-list-item-group>\n                                </v-list-group>\n                            </template>\n                            <v-list-item>\n                                <v-spacer />\n                                <SaveTrend v-if=\"!$auth.loading & $auth.isAuthenticated\" v-on:saved=\"getConfigs()\"/>\n                                <v-btn rounded depressed @click=\"reset\">\n                                    Reset </v-btn>\n                                <HelpTrends />\n                            </v-list-item>\n                        </v-list>\n                    </v-card>\n                </v-flex>\n                <v-spacer />\n                <v-flex align-center xs12 md8>\n                    <template>\n                        <div>\n                            <apexchart type=\"line\" :options=\"options\" :series=\"trends\"></apexchart>\n                        </div>\n                    </template>\n                </v-flex>\n                <Popup v-model=\"popup\" />\n                <Replace v-model=\"replace\" />\n                <v-col />\n            </v-layout>\n        </v-container>\n    </template>\n</div>\n</template>\n\n<script>\nimport Popup from \"../components/common/Popup\";\nimport Replace from \"../components/common/Replace\";\nimport SaveTrend from \"../components/common/SaveTrend\";\nimport HelpTrends from \"../components/common/HelpTrends\";\nimport Search from \"../components/common/Search\"\nimport {\n    mapGetters,\n    mapState,\n    mapMutations\n} from 'vuex';\nimport ALL_TOPICS_WITH_FILTER from '../graphql/TopicsAndArticleCount.gql'\nimport TOPIC_ARTICLES_DATE from '../graphql/TopicArticlesByDate.gql'\nimport USER_CONFIGS from \"../graphql/AllOfAUsersConfigurations.gql\"\nexport default {\n    name: \"Trends\",\n    components: {\n        Popup,\n        SaveTrend,\n        HelpTrends,\n        Search,\n        Replace\n    },\n    data: () => ({\n        search: false,\n        popup: false,\n        start_date: null,\n        end_date: null,\n        dates: [],\n        keyword: '',\n        menu: false,\n        related_topics: [],\n        configs: [],\n        result: null,\n        trends: [],\n        date: null,\n        topic_id: null,\n        usr_id: '',\n        skipQuery: true,\n        replace: false,\n        options: {\n            stroke: {\n                curve: 'smooth',\n            },\n            colors: [\n                '#FF42DC', '#0096DB', '#FF9D00', '#66DB00', '#DB0004', \n            ],\n            xaxis: {\n                type: 'datetime'\n            },\n            yaxis: {\n                label: {\n                    text: 'Number of Articles'\n                },\n                min: 0,\n                forceNiceScale: true\n            },\n            tooltip: {\n                enabled: true,\n                // followCursor: true,\n                shared: true,\n            },\n            markers: {\n                size: 0,\n                hover: {\n                    sizeOffset: 6\n                }\n            },\n            grid: {\n                borderColor: '#f1f1f1',\n            },\n            legend: {\n                horizontalAlign: 'center',\n                position: 'bottom',\n                onItemHover: {\n                    highlightDataSeries: true\n                },\n            },\n            noData: {\n                text: 'Select topics to see how they trend over time!',\n                align: 'center',\n                verticalAlign: 'middle',\n                offsetX: 0,\n                offsetY: 0,\n                style: {\n                    color: undefined,\n                    fontSize: '14px',\n                    fontFamily: undefined\n                }\n            },\n            chart: {\n                selection: {\n                    enabled: true\n                },\n                toolbar: {\n                    show: true,\n                    offsetX: 0,\n                    offsetY: 0,\n                    tools: {\n                        download: true,\n                        selection: false,\n                        zoom: false,\n                        zoomin: true,\n                        zoomout: true,\n                        pan: true,\n                        reset: true,\n                        customIcons: []\n                    },\n                    export: {\n                        csv: {\n                            filename: undefined,\n                            columnDelimiter: ',',\n                            headerCategory: 'category',\n                            headerValue: 'value',\n                            dateFormatter(timestamp) {\n                                return new Date(timestamp).toDateString()\n                            }\n                        }\n                    },\n                    autoSelected: 'zoom'\n                },\n            },\n        },\n    }),\n    watch: {\n        getSelected: {\n            handler: function() {\n                this.callTrends()\n                if (this.getSelected.length == 0) {\n                    this.trends = []\n                }\n            },\n        },\n    },\n    apollo: {\n        related_topics: {\n            query: ALL_TOPICS_WITH_FILTER,\n            variables() {\n                return {\n                    limit: 5\n                }\n            },\n            update(data) {\n                return data.allTopics.nodes.map(a => ({\n                    id: a.id,\n                    name: a.name\n                }));\n            }\n        },\n        result: {\n            query: TOPIC_ARTICLES_DATE,\n            variables() {\n                return {\n                    topicId: this.topic_id,\n                    startdate: this.start_date,\n                    enddate: this.end_date\n                }\n            },\n            update(data) {\n                var result = {\n                    name: data.topicById.name, \n                    data: data.aggregatearticlecountbydays.nodes.map(a => ({\n                        x: a.x,\n                        y: a.y\n                    }))}\n                let index = this.trends.findIndex(item => item.name == result.name)\n                if (index == -1 ) {\n                    this.trends.push(result)\n                } else {\n                    this.trends[index] = result\n                }\n                this.checkRemove()\n            },\n            skip() {\n                return this.skipQuery\n            },\n        },\n        configs: {\n            query: USER_CONFIGS,\n            variables() {\n                var id\n                if (!this.$auth.loading && this.$auth.isAuthenticated) {\n                    id = this.$auth.user.sub\n                } else {\n                    id = ''\n                }\n                return {\n                    usrId: id\n                }\n            },\n            update(data) {\n                console.log(data)\n\n                return data.allUserconfigurations.nodes.map(a => ({\n                    id: a.id,\n                    title: a.configName,\n                    topics: a.topicconfigurationsByUsrConfigId.nodes.map(b => ({\n                        id: b.topicId,\n                        name: b.topicName\n                    }))\n                }))\n            },\n            skip() {\n                return this.skipQuery\n            },\n        }\n    },\n    methods: {\n        checkRemove() {\n            if (this.getSelected.length != this.trends.length){\n                var i\n                for (i = 0; i < this.trends.length; i++) {\n                    let index = this.getSelected.findIndex(item => item.name == this.trends[i].name)\n                    if (index == -1) {\n                        this.trends.splice(index, 1)\n                    }\n                }\n            }\n        },\n        async callTrends() {\n            console.log(\"Fetching trend data for\", this.dateRange)\n            var i\n            for (i = 0; i < this.getSelected.length; i++) {\n                this.topic_id =  this.getSelected[i].id\n                this.$apollo.queries.result.skip = false\n                await this.$apollo.queries.result.refetch()\n            }\n            // This line is not redundant. It refreshes the value, particularly useful for automatically updating the graph when dates are changed.\n            this.trends = this.trends.map(a => a)\n            console.log('Trend data fetched.')\n        },\n        formatDate(date) {\n            let month = `${date.getMonth() + 1}`;\n            let day = `${date.getDate()}`;\n            const year = date.getFullYear();\n            if (month.length < 2) month = `0${month}`;\n            if (day.length < 2) day = `0${day}`;\n            return [year, month, day].join('-');\n        },\n        ...mapMutations([\n            'addSelected',\n            'removeSelected',\n            'openTopic',\n            'setSelected',\n            'emptySelected',\n            'searchTopicKeyword'\n        ]),\n        open(topic) {\n            this.popup = true\n            this.openTopic(topic)\n        },\n       saveDates() {\n            this.$refs.menu.save(this.dates)\n            if (this.dates[0] < this.dates[1]) {\n                this.start_date = this.dates[0]\n                this.end_date = this.dates[1]\n            } else {\n                this.start_date = this.dates[1]\n                this.end_date = this.dates[0]\n            }\n            this.dates = [this.start_date, this.end_date]\n            this.callTrends()\n        },\n        searchTopic() {\n            if (this.keyword != '') {\n                this.search = true\n                this.searchTopicKeyword(this.keyword)\n            }\n        },\n        reset() {\n            this.dates = []\n            this.end_date = new Date()\n            this.start_date = new Date()\n            this.start_date.setMonth(this.end_date.getMonth() - 1)\n            this.start_date = this.start_date.toISOString().slice(0, 10)                    \n            this.end_date = this.end_date.toISOString().slice(0, 10)\n            this.dates = [this.start_date, this.end_date]\n            this.emptySelected()\n        },\n        add(topic) {\n            if (this.numSelected == 5) {\n                this.replace = true\n            } else {\n                this.addSelected(topic)\n            }\n        },\n        async getConfigs() {\n            this.$apollo.queries.configs.skip = false\n            await this.$apollo.queries.configs.refetch()\n            console.log(\"Configurations fetched.\")\n        },\n        async selectSaved(id) {\n            // Ensure config is updated\n            await this.getConfigs()\n            let index = this.configs.findIndex(item => item.id == id)\n            this.setSelected(this.configs[index].topics)\n            this.trends = []\n            this.$apollo.queries.result.skip = false\n            await this.$apollo.queries.result.refetch()\n        }\n    },\n    mounted: function() {\n        if (this.start_date == null) {\n            this.end_date = new Date()\n            this.start_date = new Date()\n            this.start_date.setMonth(this.end_date.getMonth() - 1)\n            this.start_date = this.start_date.toISOString().slice(0, 10)                    \n            this.end_date = this.end_date.toISOString().slice(0, 10)\n        }\n        this.dates = [this.start_date, this.end_date]\n        if (!this.$auth.loading && this.$auth.isAuthenticated) {\n            this.usr_id = this.$auth.user.sub\n        }\n        this.callTrends()\n        this.getConfigs()\n        console.log(\"Mounted\")\n    },\n    computed: {\n        ...mapState(['selected', 'related']),\n        ...mapGetters(['numSelected', 'getSelected', 'getRelated']),\n        todaysDate() {\n            const today = new Date();\n            return this.formatDate(today);\n        },\n        dateRange() {\n            return this.dates.join(' to ')\n        },\n    }\n}\n</script>\n\n<style scoped>\ntd {\n    text-align: center !important;\n}\n.list-title {\n    font-size: 16px !important;\n}\n.item {\n    background: [];\n}\n.item:hover {\n    background: ghostwhite;\n}\n</style>"]}]}